#pragma once

#include <stddef.h>

namespace msd {
template <typename T>
class iterator {
    using data_t         = T;
    using data_ref       = T&;
    using data_const_ref = const T&;
    using data_ptr       = T*;
    using data_const_ptr = const T*;

    protected:
    data_ptr m_ptr;

    public:
    iterator(data_ptr ptr = nullptr) noexcept : m_ptr(ptr) {}
    iterator(const iterator& other) noexcept : m_ptr(other.m_ptr) {}
    virtual ~iterator() = default;

    iterator& operator=(const iterator& other) noexcept {
        if (this != &other) m_ptr = other.m_ptr;
        return *this;
    }

    // itor . / ->
    data_ref operator*() const noexcept { return *m_ptr; }
    data_ptr operator->() const noexcept { return m_ptr; }

    // itor ==/!= itor
    bool operator==(const iterator& other) noexcept { return m_ptr == other.m_ptr; }
    bool operator!=(const iterator& other) noexcept { return m_ptr != other.m_ptr; }

    // itor ++/-- (prefix)
    iterator& operator++() noexcept {
        ++m_ptr;
        return *this;
    }
    iterator& operator--() noexcept {
        --m_ptr;
        return *this;
    }

    // itor ++/-- (suffix)
    iterator operator++(int) noexcept {
        iterator tmp{ *this };
        ++m_ptr;
        return tmp;
    }
    iterator operator--(int) noexcept {
        iterator tmp{ *this };
        --m_ptr;
        return tmp;
    }
};
} // namespace msd
